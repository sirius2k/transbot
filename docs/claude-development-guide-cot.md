# Claude 기반 개발 프로젝트 가이드라인 - 사고 과정 (Chain of Thought)

- 작성자: TransBot Development Team
- 버전: 1.0
- 최초 작성일: 2026년 1월 25일

---

## 1. 분석 목표

TransBot 프로젝트를 분석하여 Claude와 효과적으로 협업하는 개발 프로젝트를 구성하기 위한 핵심 요소와 패턴을 추출한다.

---

## 2. 현재 프로젝트 분석

### 2.1 프로젝트 구조 분석

```text
transbot/
├── app.py                    # 메인 애플리케이션
├── requirements.txt          # Python 의존성
├── .env.example             # 환경 변수 템플릿
├── .gitignore               # Git 제외 파일
├── README.md                # 사용자 가이드
├── PRD.md                   # 제품 요구사항
├── CLAUDE.md                # Claude AI 작업 가이드 ⭐ 핵심
├── .claude/                 # Claude 설정 폴더 ⭐ 핵심
│   ├── settings.local.json  # 로컬 권한 설정
│   └── commands/            # 커스텀 명령어
│       ├── commit-and-push.md
│       ├── decompose-issue.md
│       ├── resolve-issue.md
│       └── pull-main-and-prune.md
├── prompts/                 # 프롬프트 템플릿 폴더
│   ├── PRD-instruction.md   # PRD 작성 지침
│   └── PRD-creation-example.md
└── documents/               # 산출물 문서 폴더
```

### 2.2 핵심 파일 역할 분석

#### CLAUDE.md의 역할

**관찰**: CLAUDE.md 파일이 프로젝트의 핵심 컨텍스트 역할을 수행함.

**포함 내용**:

1. 프로젝트 개요 및 주요 기능
2. 기술 스택 상세
3. 프로젝트 구조
4. 코딩 컨벤션 (PEP 8, 네이밍 규칙)
5. 개발 환경 설정 방법
6. 개발 가이드라인
7. 문서 작성 가이드라인
8. 문서 역할 구분 (README vs PRD vs CLAUDE)
9. 문제 해결 가이드
10. Claude와의 협업 팁

**통찰**: CLAUDE.md는 단순 문서가 아닌 "Claude에게 주는 종합 컨텍스트 매뉴얼"임.

#### .claude/ 폴더의 역할

**관찰**: .claude/ 폴더가 Claude의 동작을 제어하는 설정 허브 역할.

**구성 요소**:

1. `settings.local.json`: 허용된 명령어 목록 (권한 관리)
2. `commands/`: 재사용 가능한 프롬프트 템플릿

**settings.local.json 분석**:

```json
{
  "permissions": {
    "allow": [
      "Bash(pip install:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      ...
    ]
  }
}
```

**통찰**: 보안과 편의성의 균형 - 자주 쓰는 명령어만 사전 승인하여 워크플로우 가속화.

#### prompts/ 폴더의 역할

**관찰**: prompts/ 폴더가 재사용 가능한 지침과 템플릿을 저장.

**활용 방식**:

- `@prompts/PRD-instruction.md` 형태로 참조
- 일관된 문서 작성을 위한 포맷 정의
- 복잡한 지시사항을 파일로 분리하여 관리

**통찰**: 프롬프트의 모듈화 - 반복 사용되는 지침을 파일로 관리하여 일관성 유지.

### 2.3 문서 체계 분석

#### 3계층 문서 구조

| 문서 | 대상 | 목적 | 톤 |
| ---- | ---- | ---- | -- |
| README.md | 사용자 | 설치, 사용법 | 친근함 |
| PRD.md | PM/기획자 | 제품 요구사항 | 공식적 |
| CLAUDE.md | Claude/개발자 | 개발 가이드 | 실용적 |

**통찰**: 대상에 따른 문서 분리로 정보 중복 최소화, 각 문서의 책임 명확화.

#### 문서 동기화 규칙

- 프로젝트 구조: 세 문서 모두 동일하게 유지
- 기술 스택: README는 간략히, PRD는 상세히
- 향후 계획: PRD가 마스터, README는 요약

**통찰**: "Single Source of Truth" 원칙 적용 - 마스터 문서 지정.

### 2.4 Claude 협업 패턴 분석

#### 효과적인 요청 패턴

**관찰된 좋은 패턴**:

1. 파일 경로 명시: "app.py의 translate 함수를 수정해줘"
2. 구체적 요청: "번역 결과에 복사 버튼을 추가해줘"
3. 참조 지시: "@prompts/PRD-instruction.md 파일에 적힌 내용을 기반으로"

**통찰**: Claude는 명확하고 구체적인 컨텍스트가 주어질 때 정확도가 높아짐.

#### 커스텀 명령어 활용

**commit-and-push.md 분석**:

```markdown
# 작업 세분화하기

너는 이제부터 작업 변경을 체크하고 저장하는 전문가야...

## 커밋 내용 형식
<commit_template>
[주요 변경사항에 대한 한줄 요약]
- [변경사항에 대한 세부 내용]
Co-Authored-By: [모델명]
</commit_template>
```

**통찰**: 반복 작업을 템플릿화하여 일관성 있는 결과물 생성.

---

## 3. 핵심 패턴 도출

### 3.1 컨텍스트 계층화 패턴

```text
Level 1: CLAUDE.md (전역 컨텍스트)
    ↓
Level 2: .claude/commands/ (작업별 컨텍스트)
    ↓
Level 3: prompts/ (상세 지침 컨텍스트)
    ↓
Level 4: 대화 중 요청 (즉시 컨텍스트)
```

**핵심 원리**: 컨텍스트를 계층화하여 반복을 줄이고 일관성 유지.

### 3.2 권한 사전 승인 패턴

```json
{
  "permissions": {
    "allow": ["Bash(git commit:*)", "Bash(git push:*)"]
  }
}
```

**핵심 원리**: 자주 사용하는 안전한 명령어를 사전 승인하여 워크플로우 가속화.

### 3.3 문서 분리 및 참조 패턴

```text
README.md  ─────────────────────────────────────────┐
PRD.md     ─────────────────────────────────────────┤── 동기화 필요
CLAUDE.md  ─────────────────────────────────────────┘
              │
              ├── 프로젝트 구조 (모두 동일)
              ├── 기술 스택 (PRD가 마스터)
              └── 향후 계획 (PRD가 마스터)
```

**핵심 원리**: 마스터 문서 지정으로 정보 일관성 유지.

### 3.4 프롬프트 모듈화 패턴

```markdown
<!-- PRD-creation-example.md -->
너는 이제부터 소프트웨어 개발 PM이야.
@prompts/PRD-instruction.md 파일에 적힌 내용을 기반으로...
```

**핵심 원리**: 복잡한 프롬프트를 파일로 분리하여 재사용성 확보.

### 3.5 역할 부여 패턴

```markdown
"너는 이제부터 작업 변경을 체크하고 저장하는 전문가야."
"너는 이제부터 소프트웨어 개발 PM이야."
```

**핵심 원리**: Claude에게 명확한 역할을 부여하여 전문성 있는 응답 유도.

---

## 4. 성공 요인 분석

### 4.1 왜 효과적인가?

1. **명확한 경계**: 각 문서/폴더의 역할이 명확히 정의됨
2. **일관성**: 코딩 컨벤션, 문서 스타일이 일관되게 적용됨
3. **재사용성**: 커스텀 명령어와 프롬프트 템플릿으로 반복 작업 최소화
4. **점진적 컨텍스트**: 전역 → 작업별 → 상세 순으로 컨텍스트 제공
5. **보안과 편의의 균형**: 필요한 권한만 사전 승인

### 4.2 잠재적 개선점

1. **테스트 가이드 부재**: 테스트 작성에 대한 가이드가 없음
2. **버전 관리 상세화**: 문서 버전 관리가 수동으로 이루어짐
3. **에러 핸들링 패턴**: 에러 처리에 대한 표준화된 패턴 필요

---

## 5. 가이드라인 도출

위 분석을 바탕으로 다음 핵심 요소들을 가이드라인에 포함해야 함:

### 5.1 필수 구성 요소

1. **CLAUDE.md**: 프로젝트 전역 컨텍스트 문서
2. **.claude/ 폴더**: 설정 및 커스텀 명령어
3. **prompts/ 폴더**: 재사용 가능한 프롬프트 템플릿
4. **3계층 문서 구조**: README, PRD, CLAUDE 분리

### 5.2 핵심 원칙

1. **컨텍스트 우선**: Claude에게 충분한 컨텍스트 제공
2. **일관성 유지**: 코딩/문서 스타일 표준화
3. **모듈화**: 반복 사용되는 지침을 파일로 분리
4. **역할 명확화**: 문서별, 작업별 역할 정의
5. **점진적 자동화**: 자주 쓰는 작업부터 권한 승인

### 5.3 실행 단계

1. 프로젝트 초기화 시 기본 구조 생성
2. CLAUDE.md 작성 (프로젝트 개요, 기술 스택, 컨벤션)
3. .claude/ 설정 (permissions, commands)
4. 문서 체계 수립 (README, PRD, CLAUDE 역할 분리)
5. 프롬프트 템플릿 작성 (자주 쓰는 지시사항)

---

## 6. 결론

TransBot 프로젝트 분석을 통해 도출된 핵심 인사이트:

> **Claude와의 효과적인 협업은 "잘 구조화된 컨텍스트"에서 시작된다.**

프로젝트 구조, 문서 체계, 프롬프트 템플릿, 권한 설정 등 모든 요소가
Claude에게 "명확하고 일관된 컨텍스트"를 제공하기 위해 설계되어 있다.

이 분석 결과를 바탕으로 `claude-development-guide.md`에서
실용적인 가이드라인을 제시한다.

---

**다음 문서**: [claude-development-guide.md](./claude-development-guide.md)
