# FEATURE-005: Markdown 포맷 지원 및 보존

## 개요

- **기능명**: Markdown 포맷 지원 및 보존
- **상태**: ✅ 완료
- **분류**: 백엔드 + 프론트엔드

## 기능 설명

Markdown 형식의 텍스트를 번역할 때 원본의 포맷(헤딩, 리스트, 코드블록, 링크 등)을 보존하여 번역 결과에서도 동일한 구조 유지

## 작업(Task) 분해

### Task 5.1: 백엔드 - Markdown 보존 프롬프트 설계

- **분류**: 백엔드
- **의존성**: FEATURE-001 (번역 기능)
- **작업 내용**:
  - 시스템 프롬프트에 Markdown 보존 지시 추가
  - "번역 시 원본의 Markdown 형식을 유지하라" 명시
  - 코드 블록 내용은 번역하지 않도록 지시
- **예상 파일**: `app.py` (translate 함수 내 프롬프트)

### Task 5.2: 프론트엔드 - Markdown 렌더링 출력

- **분류**: 프론트엔드
- **의존성**: Task 5.1
- **작업 내용**:
  - st.markdown()으로 결과 렌더링
  - 코드 블록 하이라이팅
  - 테이블, 리스트 등 지원
- **예상 파일**: `app.py` (결과 표시 섹션)

### Task 5.3: 프론트엔드 - 원문/렌더링 토글

- **분류**: 프론트엔드
- **의존성**: Task 5.2
- **작업 내용**:
  - 렌더링된 Markdown 보기
  - 원본 텍스트(raw) 보기
  - 토글 버튼 또는 탭 구현
- **예상 파일**: `app.py`

### Task 5.4: 백엔드 - Markdown 요소 검증

- **분류**: 백엔드
- **의존성**: Task 5.1
- **작업 내용**:
  - 번역 전후 Markdown 구조 비교 (선택사항)
  - 누락된 포맷 요소 경고
- **예상 파일**: `app.py`

## 작업 흐름도

```text
Task 5.1 (프롬프트 설계) ──→ Task 5.2 (렌더링 출력) ──→ Task 5.3 (원문/렌더링 토글)
         │
         └──→ Task 5.4 (구조 검증)
```

## 지원 Markdown 요소

| 요소 | 예시 | 보존 여부 |
|------|------|-----------|
| 헤딩 | `# Title` | ✅ |
| 리스트 | `- item` | ✅ |
| 코드블록 | ` ```code``` ` | ✅ (내용 미번역) |
| 링크 | `[text](url)` | ✅ |
| 볼드/이탤릭 | `**bold**` `*italic*` | ✅ |
| 테이블 | `| col |` | ✅ |
| 인용 | `> quote` | ✅ |

## 완료 기준

- [ ] Markdown 형식 텍스트 번역 시 구조 보존됨
- [ ] 코드 블록 내용은 번역되지 않음
- [ ] 번역 결과가 Markdown으로 올바르게 렌더링됨
- [ ] 원본 텍스트와 렌더링 뷰를 전환할 수 있음
