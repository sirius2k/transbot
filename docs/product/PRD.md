# TransBot - 스마트 번역 솔루션

- 작성자: TransBot Development Team
- 버전: 3.0
- 최초 작성일: 2026년 1월 24일

## 1. 개요 (Overview)

TransBot은 Streamlit 기반의 영어-한국어 양방향 번역 웹 애플리케이션입니다.

번역을 원하는 텍스트나 파일 등의 원본을 입력하면 **즉시 번역하여 결과를 보여줍니다**. 번역이 완료되면 그 내용을 별도의 저장소에 기록하여 지속적으로 관리하고, 편리하게 재조회하거나 다른 도구로 전송하는 등의 방법으로 활용할 수 있도록 합니다.

### 핵심 가치

| 가치 | 설명 |
| ---- | ---- |
| **즉시 번역** | 원문 텍스트를 붙여넣기하면 즉시 번역본 확인 |
| **빠른 복사** | 번역된 내용을 원클릭으로 복사하여 다른 곳에 활용 |
| **직관적 UI** | 간단하고 직관적인 인터페이스로 빠른 번역 및 사전 검색 |
| **글자 제한 확장** | 기존 번역 서비스의 글자 수 제한을 넘어선 긴 문서 번역 |
| **사전 검색** | 단어만 입력 시 사전을 검색하여 뜻을 빠르게 확인 |
| **히스토리 관리** | 번역 및 사전 검색 내용의 이력 관리, 그룹핑, 조회 |
| **외부 툴 연동** | Notion, Asana, Confluence 등 외부 도구에 저장 |
| **관찰성 확보** | Langfuse를 통한 LLM 사용 내역 추적 |

## 2. 문제 정의 (Problem Definition)

기존 번역 웹앱과 서비스들은 다음과 같은 한계를 가지고 있습니다.

### 2.1 사용자 경험 문제

- **커스터마이징 불가**: 번역 기능 자체는 잘 동작하지만, 사용자가 원하는대로 UI를 변경하거나 기능을 추가할 수 없음
- **히스토리 부재**: LLM을 통해 번역을 요청하지만, 어떤 번역을 요청했는지 이력을 확인할 수 없음
- **비용 불투명**: API 사용량과 비용을 사전에 예측하기 어려움

### 2.2 번역 품질 문제

- **도메인 특화 부족**: 여러 업무에 쓰이는 고유한 용어를 모르기 때문에 번역이 매끄럽지 않음
- **사전 기능 부재**: 단어의 뜻만 빠르게 확인하고 싶을 때 별도의 사전 서비스를 이용해야 함

### 2.3 업무 통합 문제

- **파일 번역 제한**: 로컬 파일, 구글 드라이브, Confluence 등 외부 저장소의 파일을 빠르게 번역하기 어려움
- **글자 수 제한**: 기존 번역 서비스의 최대 입력 글자 수 제한으로 긴 문서 번역이 불편함
- **결과 활용 제한**: 번역 결과를 다른 도구로 전송하거나 체계적으로 관리하기 어려움

## 3. 타겟 사용자 (Target User)

### 3.1 핵심 사용자 페르소나

번역을 필요로 하고, 앱을 자유롭게 커스터마이징하고 싶은 개발자

### 3.2 사용 사례 (Use Cases)

- 사용자로서, 원본 텍스트를 붙여넣기하면 즉시 번역본을 보고 싶다. 왜냐하면 빠르게 번역 결과를 확인하기 위해서이다.
- 사용자로서, 번역된 내용을 원클릭으로 복사하고 싶다. 왜냐하면 다른 곳에 쉽게 붙여넣기 하기 위해서이다.
- 사용자로서, 단어만 입력했을 때 사전 검색 결과를 보고 싶다. 왜냐하면 단어의 뜻만 빠르게 확인하기 위해서이다.
- 사용자로서, 이전 번역 히스토리를 조회하고 싶다. 왜냐하면 과거 번역 내용을 다시 활용하기 위해서이다.
- 사용자로서, 번역 결과를 외부 툴(Notion, Confluence 등)에 저장하고 싶다. 왜냐하면 업무 도구와 연동하여 효율적으로 관리하기 위해서이다.
- 사용자로서, 긴 문서도 글자 수 제한 없이 번역하고 싶다. 왜냐하면 기존 번역 서비스의 제한을 넘어 전체 문서를 한 번에 번역하기 위해서이다.

## 4. 성공 지표 (Goals and Success Criteria)

### 4.1 성공 지표

개발 후 1개월 내에 번역 관련 유료 서비스 의존도를 최소화하고, 번역 업무를 효율적으로 자동화하는 것을 목표로 합니다.

### 4.2 핵심 지표

| 지표 | 목표 | 측정 기간 |
| ---- | ---- | --------- |
| 유료 번역 툴 사용 비중 | 10% 이내로 감소 | 개발 후 1개월 |
| 번역 관련 업무 자동화 | 95% 이상 달성 | 지속 |

### 4.3 서비스 품질 지표

| 지표 | 목표 |
| ---- | ---- |
| 번역 완료율 | 95% 이상 |
| 평균 응답 시간 | 5초 이내 |
| 에러 발생률 | 5% 이하 |

## 5. 현재 구현 상태 (Phase 1.5)

### 5.1 우선순위 체계

| 등급 | 의미 | 설명 |
| ---- | ---- | ---- |
| **P0** | 필수 (Must Have) | 서비스 핵심 기능 |
| **P1** | 높음 (Should Have) | 사용자 가치 높음 |
| **P2** | 중간 (Could Have) | 있으면 좋은 기능 |
| **P3** | 낮음 (Nice to Have) | 향후 고려 |

### 5.2 완료된 기능

| 기능 | 우선순위 | 선정 이유 |
| ---- | -------- | --------- |
| ✅ 영어 ↔ 한국어 양방향 번역 | **P0** | 서비스의 핵심 존재 이유 |
| ✅ 자동 언어 감지 | **P0** | 사용자 편의성의 핵심 |
| ✅ 번역 결과 듀얼 복사 버튼 | **P0** | Use Case 직접 충족 |
| ✅ 다양한 AI 모델 선택 | **P1** | 비용/품질 선택권 제공 |
| ✅ Markdown 포맷 지원 및 보존 | **P1** | 개발자 대상 기술 문서에 필수 |
| ✅ 지우기 버튼 (입력 및 번역 결과 초기화) | **P1** | 사용성 개선, 빠른 재시작 |
| ✅ 글자수/토큰수 실시간 표시 | **P2** | 비용 예측 보조 기능 |
| ✅ 사이드바 UI (설정 섹션) | **P2** | UI 레이아웃 구성 요소 |

### 5.3 향후 개발 예정

| 기능 | 우선순위 | 선정 이유 | Phase |
| ---- | -------- | --------- | ----- |
| 🔲 Azure OpenAI Service 지원 | **P1** | 기업 환경(Azure) 사용자 지원. OpenAI/Azure 간 유연한 전환 | 2 |
| 🔲 번역 히스토리 저장 및 관리 | **P1** | Use Case 직접 충족. 즐겨찾기 등 후속 기능의 기반 인프라 | 2 |
| 🔲 사전 검색 기능 | **P1** | Use Case 직접 충족. 독립적 구현 가능 | 2 |
| 🔲 즐겨찾기 기능 | **P2** | 편의 기능. 히스토리 기능에 의존 | 2.5 |
| 🔲 파일 업로드 일괄 번역 | **P2** | "글자 수 제한 없이 번역" Use Case 충족 | 2.5 |
| 🔲 외부 툴 연동 (Notion, Confluence 등) | **P2** | Use Case 직접 충족. 각 플랫폼 API 연동 필요로 복잡도 높음 | 3 |
| 🔲 용어집(Glossary) 기능 | **P3** | 고급 사용자 대상. 번역 품질 향상 | 3 |
| 🔲 Langfuse 연동 | **P3** | 개발자/관리자 관점. 운영 단계에서 필요 | 3 |

### 5.4 권장 개발 순서

```text
Phase 2 (P1 기능)
├── 1. Azure OpenAI Service 지원   ← OpenAI 확장, 병렬 개발 가능
├── 2. 번역 히스토리 저장 및 관리  ← 다른 기능의 기반
└── 3. 사전 검색 기능              ← 독립적, 병렬 개발 가능

Phase 2.5 (P2 기능 - 히스토리 의존)
├── 4. 즐겨찾기 기능               ← 히스토리 완료 후
└── 5. 파일 업로드 일괄 번역

Phase 3 (P2-P3 기능)
├── 6. 외부 툴 연동 (Notion 우선)  ← 가장 범용적인 것부터
├── 7. 용어집(Glossary) 기능
└── 8. Langfuse 연동              ← 운영 안정화 후
```

## 6. 개발 인프라 및 품질 관리

### 6.1 테스트 프레임워크

| 항목 | 기술 | 설명 |
| ---- | ---- | ---- |
| 테스트 프레임워크 | pytest 7.4.0+ | Python 단위 테스트 프레임워크 |
| 커버리지 측정 | pytest-cov 4.1.0+ | 코드 커버리지 측정 도구 |
| HTML 리포트 | pytest-html 4.1.0+ | 테스트 결과 HTML 리포트 생성 |
| Mock 지원 | pytest-mock 3.12.0+ | Mock 객체를 사용한 테스트 |

### 6.2 코드 품질 기준

| 지표 | 목표 | 현재 상태 |
| ---- | ---- | -------- |
| 코드 커버리지 | 80% 이상 | ✅ 달성 |
| 단위 테스트 | 모든 핵심 함수 | ✅ utils.py 완료 |
| 테스트 리포트 | htmlcov/ 폴더 통합 관리 | ✅ 구현 완료 |

### 6.3 테스트 대상 모듈

#### utils.py (완료)

- `detect_language()`: 언어 감지 함수 (8개 테스트 케이스)
- `count_tokens()`: 토큰 카운팅 함수 (5개 테스트 케이스)
- `strip_markdown()`: Markdown 제거 함수 (14개 테스트 케이스)
- `translate()`: 번역 함수 (3개 Mock 테스트)

### 6.4 리포트 관리

모든 테스트 및 커버리지 리포트는 `htmlcov/` 폴더에 통합 관리됩니다:

- `index.html`: 코드 커버리지 리포트
- `pytest-report.html`: pytest 실행 결과 리포트

---

**최종 수정일**: 2026-01-27 02:15
