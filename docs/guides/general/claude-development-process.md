# Claude 기반 개발 프로세스 가이드

## 개요

이 문서는 Claude Code와 협업하여 소프트웨어 개발을 진행할 때의 표준 워크플로우를 설명합니다. FEATURE 기반 개발부터 완료까지의 전체 프로세스를 단계별로 다룹니다.

**대상 독자**: Claude Code를 사용하는 개발자

**적용 범위**: 2시간 이상 소요되는 FEATURE 개발 (Quick Win은 단순화된 프로세스 적용)

## 4단계 개발 워크플로우

```text
Phase 1: 요구사항 정리
   ↓
Phase 2: FEATURE 분해
   ↓
Phase 3: 세부 Task 구현
   ↓
Phase 4: 완료 및 커밋
```

---

## Phase 1: 요구사항 정리

### 목표

새로운 FEATURE의 요구사항을 PRD에 추가하고 개발 방향을 명확히 합니다.

### 작업 내용

1. PRD 파일 (예: `docs/product/PRD.md`) 열기
2. 새로운 FEATURE 섹션 추가
3. 요구사항, 배경, 기대효과 작성
4. Phase 분류 (Phase 1/2/3)

### 작업 방식

- **작업분류**: DOC
- **작업방식**: 직접 (커맨드라인에서 Claude에게 직접 요청)
- **예상 소요시간**: 15-20분

### 예시 대화

```text
사용자: "PRD에 새로운 FEATURE-010을 추가해줘.
        사용자가 번역 히스토리를 저장하고 조회할 수 있는 기능이야."

Claude: "PRD.md를 읽고 FEATURE-010 섹션을 추가하겠습니다..."
```

### WORKLOG 기록 예시

```markdown
| ID | 작업분류 | 작업방식 | 작업내용 | 예측 | 시작 | 종료 | 실제 | 차이 |
|----|---------|----------|---------|------|------|------|------|------|
| F-010 | DOC | 직접 | PRD에 FEATURE-010 추가 | 20m | 10:00 | 10:15 | 15m | -5m ✅ |
```

---

## Phase 2: FEATURE 분해

### 목표

FEATURE를 구현 가능한 세부 Task로 분해하고 실행 계획을 수립합니다.

### 작업 내용

1. FEATURE 실행 계획 문서 생성 (예: `docs/feature-execution-plan/FEATURE-010.md`)
2. Task 목록 작성 (Task 10.1, 10.2, ...)
3. 각 Task의 상세 내용, 예상 소요시간 명시
4. 파일 수정 목록, 테스트 계획 포함

### 작업 방식

- **작업분류**: DOC
- **작업방식**: 직접
- **예상 소요시간**: 30-45분

### 예시 대화

```text
사용자: "FEATURE-010을 Task로 분해해줘"

Claude: "FEATURE-010.md를 생성하고 다음과 같이 Task를 분해하겠습니다:
        - Task 10.1: 히스토리 저장 DB 스키마 설계 (30분)
        - Task 10.2: HistoryManager 클래스 구현 (1시간)
        - Task 10.3: UI에 히스토리 조회 기능 추가 (45분)
        ..."
```

### WORKLOG 기록 예시

```markdown
| ID | 작업분류 | 작업방식 | 작업내용 | 예측 | 시작 | 종료 | 실제 | 차이 |
|----|---------|----------|---------|------|------|------|------|------|
| F-010 | DOC | 직접 | FEATURE-010 Task 분해 | 45m | 10:20 | 10:55 | 35m | -10m ✅ |
```

---

## Phase 3: 세부 Task 구현

### 목표

분해된 Task를 순차적으로 구현하며, 코드 작성, 테스트, 문서 업데이트를 수행합니다.

### 작업 내용

각 Task마다:

1. **코드 작성** (CODE)
   - 새로운 클래스/함수 구현
   - 기존 코드 수정
   - 타입 힌트 및 docstring 작성

2. **테스트 작성 및 실행** (TEST)
   - 단위 테스트 작성
   - `test-runner` 에이전트 실행
   - 커버리지 확인

3. **문서 업데이트** (DOC)
   - `docs-sync-guardian` 에이전트 실행
   - README, CLAUDE.md 등 자동 동기화

### 작업 방식

- **작업분류**: CODE, TEST, DOC 혼합
- **작업방식**: 직접 + 에이전트 (test-runner, docs-sync-guardian)
- **예상 소요시간**: 4-5시간 (Task 개수에 따라 변동)

### Task 구현 패턴

#### 패턴 1: 코드 작성 → 테스트 → 문서

```text
사용자: "Task 10.1을 구현해줘"

Claude: [코드 작성]
Claude: "test-runner 에이전트를 실행하여 테스트를 수행하겠습니다"
Claude: [test-runner 에이전트 사용]
Claude: "docs-sync-guardian 에이전트를 실행하여 문서를 업데이트하겠습니다"
Claude: [docs-sync-guardian 에이전트 사용]
```

#### 패턴 2: 여러 Task 연속 구현

```text
사용자: "Task 10.1부터 10.5까지 구현해줘"

Claude: [Task 10.1 구현 → 테스트 → 문서]
       [Task 10.2 구현 → 테스트 → 문서]
       ...
       [Task 10.5 구현 → 테스트 → 문서]
```

### WORKLOG 기록 예시

```markdown
| ID | 작업분류 | 작업방식 | 작업내용 | 예측 | 시작 | 종료 | 실제 | 차이 |
|----|---------|----------|---------|------|------|------|------|------|
| F-010 | CODE | 직접 | Task 10.1: DB 스키마 설계 및 구현 | 30m | 11:00 | 11:25 | 25m | -5m ✅ |
| F-010 | CODE | 직접 | Task 10.2: HistoryManager 구현 | 1h | 11:25 | 12:10 | 45m | -15m ✅ |
| F-010 | TEST | 직접 | Task 10.2 단위 테스트 (test-runner) | 30m | 12:10 | 12:18 | 8m | -22m ✅ |
| F-010 | CODE | 직접 | Task 10.3: UI 히스토리 조회 추가 | 45m | 12:18 | 12:55 | 37m | -8m ✅ |
| F-010 | DOC | 직접 | 문서 동기화 (docs-sync-guardian) | 20m | 12:55 | 13:02 | 7m | -13m ✅ |
```

### 에이전트 사용 가이드

#### test-runner 에이전트

**언제 사용하는가**:

- 코드 작성 후 테스트 실행이 필요할 때
- 커버리지 확인이 필요할 때
- 테스트 실패 시 자동 수정이 필요할 때

**사용 예시**:

```text
Claude: "test-runner 에이전트를 사용하여 테스트를 실행하겠습니다"
[Task tool with subagent_type=test-runner]
```

#### docs-sync-guardian 에이전트

**언제 사용하는가**:

- 코드 구조나 기능이 변경되었을 때
- 새로운 FEATURE가 추가되었을 때
- PRD, README, CLAUDE.md 등의 동기화가 필요할 때

**사용 예시**:

```text
Claude: "docs-sync-guardian 에이전트를 사용하여 문서를 업데이트하겠습니다"
[Task tool with subagent_type=docs-sync-guardian]
```

---

## Phase 4: 완료 및 커밋

### 목표

모든 Task가 완료되면 변경사항을 커밋하고 GitHub에 푸시합니다.

### 작업 내용

1. 최종 테스트 확인
2. WORKLOG 업데이트 (총 소요시간, 인사이트 작성)
3. Git 커밋 및 푸시

### 작업 방식

- **작업분류**: ETC
- **작업방식**: Skill (commit-and-push 스킬 사용)
- **예상 소요시간**: 10-15분

### 예시 대화

```text
사용자: "FEATURE-010 완료했으니 커밋하고 푸시해줘"

Claude: "commit-and-push 스킬을 사용하여 커밋하겠습니다"
[Skill tool 사용]
```

### WORKLOG 기록 예시

```markdown
| ID | 작업분류 | 작업방식 | 작업내용 | 예측 | 시작 | 종료 | 실제 | 차이 |
|----|---------|----------|---------|------|------|------|------|------|
| F-010 | ETC | Skill | 커밋 및 푸시 (commit-and-push) | 15m | 13:05 | 13:15 | 10m | -5m ✅ |
```

### 커밋 메시지 형식

```text
feat: 번역 히스토리 저장 및 조회 기능 추가 (FEATURE-010)

- HistoryManager 클래스 구현
- SQLite 기반 히스토리 저장
- UI에 히스토리 조회 기능 추가
- 단위 테스트 및 문서 업데이트

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
```

---

## WORKLOG 작성 가이드

### 실시간 기록 방법

작업 중에는 간단한 메모를 남기고, 완료 후 테이블에 정리합니다.

**작업 중 메모**:

```text
[2026-02-01 10:00] F-010 DOC START: PRD에 FEATURE-010 추가
[2026-02-01 10:15] F-010 DOC END: PRD 작업 완료
[2026-02-01 10:20] F-010 DOC START: FEATURE-010 Task 분해
[2026-02-01 10:55] F-010 DOC END: Task 분해 완료
```

**완료 후 테이블 정리**:

```markdown
## FEATURE-010: 번역 히스토리 저장 및 조회

### 작업 내역

| ID | 작업분류 | 작업방식 | 작업내용 | 예측 | 시작 | 종료 | 실제 | 차이 |
|----|---------|----------|---------|------|------|------|------|------|
| F-010 | DOC | 직접 | PRD에 FEATURE-010 추가 | 20m | 10:00 | 10:15 | 15m | -5m ✅ |
| F-010 | DOC | 직접 | FEATURE-010 Task 분해 | 45m | 10:20 | 10:55 | 35m | -10m ✅ |
| F-010 | CODE | 직접 | Task 10.1: DB 스키마 설계 | 30m | 11:00 | 11:25 | 25m | -5m ✅ |
...
```

### 소요시간 합계 작성

```markdown
### 소요시간 합계

- DOC: 50분 (예측 1시간 5분, -15분)
- CODE: 1시간 47분 (예측 2시간 15분, -28분)
- TEST: 8분 (예측 30분, -22분)
- ETC: 10분 (예측 15분, -5분)
- **총 소요시간**: 2시간 55분 (예측 4시간 5분, -1시간 10분)
```

### 인사이트 작성

```markdown
### 인사이트

- Claude 활용으로 예측 대비 1시간 10분 절감 (29% 단축)
- test-runner 에이전트 사용으로 테스트 시간 22분 절감
- docs-sync-guardian 에이전트로 문서 동기화 13분 절감
- HistoryManager 구현이 예상보다 15분 빠르게 완료
```

---

## 시간 예측 가이드

### 작업분류별 평균 소요시간

| 작업분류 | 예측 시간 (Claude 없이) | 예측 시간 (Claude 사용) | 절감률 |
|---------|---------------------|-------------------|--------|
| **DOC** | 1-2시간 | 20-40분 | 50-70% |
| **CODE** | 4-6시간 | 1.5-2.5시간 | 50-60% |
| **TEST** | 2-3시간 | 10-30분 | 80-90% |
| **ANALYSIS** | 1-2시간 | 30-60분 | 50% |
| **ETC** | 30분-1시간 | 10-20분 | 50-70% |

### 에이전트 사용 시 시간 절감

- **test-runner**: 테스트 작성 시간 80-90% 절감
- **docs-sync-guardian**: 문서 동기화 시간 60-70% 절감
- **commit-and-push (Skill)**: 커밋 작업 시간 50% 절감

### 예측 시 고려사항

1. **Task 복잡도**: 단순 CRUD vs 복잡한 알고리즘
2. **기존 코드 파악**: 처음 작업하는 영역은 30% 추가 시간
3. **의존성**: 다른 Task와의 의존성이 있으면 20% 추가 시간
4. **테스트 커버리지**: 높은 커버리지 목표는 50% 추가 시간

---

## 파일 수정 패턴

### FEATURE 개발 시 주요 파일

1. **요구사항 단계**:
   - `docs/product/PRD.md` (FEATURE 추가)

2. **분해 단계**:
   - `docs/feature-execution-plan/FEATURE-XXX.md` (Task 목록 작성)

3. **구현 단계**:
   - 소스 코드 파일 (예: `app.py`, `components/*.py`, `utils.py`)
   - 테스트 파일 (예: `tests/test_*.py`)

4. **문서화 단계**:
   - `README.md` (사용자 가이드)
   - `CLAUDE.md` (개발자 가이드)
   - `docs/guides/**/*.md` (세부 가이드)

5. **완료 단계**:
   - `docs/feature-execution-log/WORKLOG.md` (작업 시간 기록)

### 파일 수정 체크리스트

구현 완료 후 다음 파일들이 업데이트되었는지 확인합니다:

- [ ] 소스 코드 파일 (새 기능 구현)
- [ ] 테스트 파일 (단위 테스트 추가)
- [ ] PRD.md (요구사항 반영)
- [ ] FEATURE-XXX.md (Task 진행 상태 업데이트)
- [ ] README.md (사용자 가이드 업데이트)
- [ ] CLAUDE.md (개발자 가이드 업데이트)
- [ ] WORKLOG.md (작업 시간 기록)

---

## Quick Win 프로세스

2시간 미만의 간단한 개선사항은 단순화된 프로세스를 사용합니다.

### Quick Win 워크플로우

```text
요청 → 즉시 구현 → 테스트 → 커밋
```

### 예시

```text
사용자: "지우기 버튼 추가해줘"

Claude: [코드 수정 → 테스트 → 커밋]
```

### WORKLOG 기록

```markdown
## Quick Wins

### 2026-02-01

| ID | 작업분류 | 작업방식 | 작업내용 | 예측 | 시작 | 종료 | 실제 | 차이 |
|----|---------|----------|---------|------|------|------|------|------|
| QW-01 | CODE | 직접 | 지우기 버튼 추가 | 30m | 14:00 | 14:22 | 22m | -8m ✅ |
```

---

## 베스트 프랙티스

### 1. 명확한 요청

**좋은 예**:

```text
"FEATURE-010의 Task 10.1부터 10.3까지 구현해줘.
 각 Task 완료 후 test-runner를 실행해서 테스트를 확인해줘."
```

**나쁜 예**:

```text
"번역 히스토리 기능 추가해줘"
```

### 2. 작은 단위로 작업

- 한 번에 하나의 Phase에 집중
- 각 Task를 독립적으로 구현
- 자주 테스트하고 커밋

### 3. 에이전트 적극 활용

- 코드 작성 후 즉시 test-runner 실행
- 기능 완료 후 docs-sync-guardian 실행
- 커밋 시 commit-and-push 스킬 사용

### 4. WORKLOG 실시간 기록

- 작업 시작/종료 시간을 즉시 메모
- 완료 후 테이블로 정리
- 인사이트를 반드시 작성 (다음 예측에 반영)

---

## 트러블슈팅

### 테스트 실패 시

1. test-runner 에이전트가 자동으로 수정 시도
2. 실패 원인 분석 및 Claude에게 설명 요청
3. 수정 후 재테스트

### 시간 초과 시

1. Task를 더 작은 단위로 분해
2. 예측 시간을 상향 조정
3. WORKLOG에 원인 기록 (다음 예측에 반영)

### 문서 동기화 누락 시

1. docs-sync-guardian 에이전트 재실행
2. 수동으로 누락된 문서 확인
3. 체크리스트 사용하여 재확인

---

## 참고 자료

### 관련 문서

- [작업 시간 추적 가이드](../workflows/time-tracking.md) - WORKLOG 작성 상세 규칙
- [WORKLOG 샘플](../../feature-execution-log/WORKLOG-SAMPLE.md) - 템플릿 및 예시
- [코딩 컨벤션](../development/coding-conventions.md) - 코드 작성 규칙
- [테스트 가이드](../quality/testing-guide.md) - 단위 테스트 작성법

### Claude Code 도구

- **Task tool**: 에이전트 실행 (test-runner, docs-sync-guardian)
- **Skill tool**: 스킬 실행 (commit-and-push)
- **Read/Write/Edit tools**: 파일 조작

---

**작성일**: 2026-02-02
**최종 수정일**: 2026-02-02
**작성자**: TransBot Development Team
