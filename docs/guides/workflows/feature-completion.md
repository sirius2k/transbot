# 기능 완료 워크플로우

기능 구현이 완료되면 아래 체크리스트를 따라 모든 관련 문서를 업데이트합니다.

> **⚠️ 중요**: 구현 완료 직후 반드시 문서를 업데이트하세요. 나중으로 미루면 누락될 수 있습니다!

## 빠른 참조 (Quick Reference)

### 마이너 개선사항 완료 시 (30초 체크)

```markdown
✅ PRD.md에서 🔲 → ✅ 변경했나요?
✅ "향후 개발 예정" → "완료된 기능"으로 이동했나요?
✅ 최종 수정일시를 업데이트했나요?
✅ docs-sync-guardian를 실행했나요?
```

**빠른 명령어**:
```text
"[기능명]을 완료했어. PRD를 업데이트하고 커밋해줘"
```

### FEATURE 완료 시 (1분 체크)

```markdown
✅ FEATURE-XXX.md의 모든 Task가 ✅인가요?
✅ PRD.md에서 🔲 → ✅ 변경했나요?
✅ 가치 제안을 "현재 제공 중"으로 이동했나요?
✅ docs-sync-guardian를 실행했나요?
```

**빠른 명령어**:
```text
"FEATURE-XXX가 완료되었어. 문서를 모두 동기화하고 커밋해줘"
```

---

## 기능 유형별 체크리스트

### 마이너 개선사항 (Quick Wins) 완료

1-2시간 이내 완료된 간단한 개선사항 (별도 FEATURE 문서 없음)

#### 필수 체크리스트

- [ ] **PRD.md 업데이트** (가장 중요!)
  - [ ] "향후 개발 예정 > 마이너 개선사항" 섹션에서 찾기
  - [ ] 🔲 → ✅ 상태 변경
  - [ ] "완료된 기능 > 마이너 개선사항" 섹션으로 이동
  - [ ] 최종 수정일시 업데이트 (날짜 + 시간 + 변경 내용)
- [ ] README.md 확인 (사용자 가이드 변경 시)
- [ ] CLAUDE.md 확인 (개발 프로세스 변경 시)
- [ ] docs-sync-guardian 실행하여 문서 일관성 검증
- [ ] commit-and-push skill로 커밋

#### 예시: "모델 선택 옵션 제한" 완료

**PRD.md 업데이트**:

```markdown
#### 마이너 개선사항 (Quick Wins)

| 개선사항 | 우선순위 | 소요 시간 | 설명 | 이슈 |
|---------|---------|-----------|------|------|
| ✅ 모델 선택 옵션 제한 | **P1** | 1-2시간 | 환경 변수에 설정된 모델만 UI에 표시 | - |

최종 수정일시: 2026-02-08 14:30 (모델 선택 옵션 제한 기능 완료 상태로 반영)
```

**⚠️ 자주 놓치는 실수**:
- 기능은 구현했으나 PRD.md 업데이트 누락 ← **오늘 발생한 문제!**
- "향후 개발 예정"에서 제거하지 않음
- 최종 수정일시 미업데이트

### FEATURE 완료 (주요 기능)

2시간 이상 소요되거나 여러 파일 수정이 필요한 기능 (FEATURE-XXX 문서 있음)

## 완료 체크리스트

### 1. FEATURE 실행 계획 문서 업데이트

**파일**: `docs/feature-execution-plan/FEATURE-XXX.md`

- [ ] 진행 현황 테이블의 모든 Task를 ✅ 완료로 표시
- [ ] 실제 작업 시간 기록 (작업 시간 로그 참조)
- [ ] 완료 요약 섹션 업데이트 (있는 경우)

**예시**:

```markdown
| Task | 상태 | 실제 시간 |
|------|------|----------|
| Task 16.1 | ✅ 완료 | 1h30m |
| Task 16.2 | ✅ 완료 | 2h15m |
```

### 2. PRD 문서 업데이트

**파일**: `docs/product/PRD.md`

#### 2.1. 완료된 기능 섹션으로 이동

"향후 개발 예정" 섹션에서 "완료된 기능" 섹션으로 이동:

- [ ] FEATURE 항목을 찾아서 복사
- [ ] "완료된 기능" 섹션에 추가
- [ ] "향후 개발 예정" 섹션에서 제거

**예시**:

```markdown
## 완료된 기능

| 기능 | 우선순위 | 설명 |
|------|----------|------|
| ✅ FEATURE-016: [Langfuse 연동 (LLM 관찰성)](../feature-execution-plan/FEATURE-016.md) | **P1** | LLM 사용 추적, 비용 분석, 품질 모니터링 |
```

#### 2.2. 상태 아이콘 변경

- [ ] 🔲 (계획됨) → ✅ (완료됨)

#### 2.3. 링크 확인

- [ ] FEATURE 문서 상대 경로 링크가 올바른지 확인
- [ ] 예: `../feature-execution-plan/FEATURE-016.md`

#### 2.4. 가치 제안 업데이트

"제공하는 가치" 섹션에서 관련 항목 이동:

- [ ] "향후 제공 예정" → "현재 제공 중인 가치"
- [ ] 설명이 실제 구현 내용과 일치하는지 확인

**예시**:

```markdown
## 현재 제공 중인 가치

### 개발 및 운영 효율성

- **관찰성 확보**: Langfuse를 통한 LLM 사용 추적 및 비용 분석
```

#### 2.5. 최종 수정일 업데이트

- [ ] 문서 하단의 "최종 수정일" 업데이트 (날짜 + 시간)

**예시**:

```markdown
---

최종 수정일: 2026-02-04 23:45
```

### 3. PR 생성 및 머지

- [ ] 모든 변경사항 커밋
- [ ] PR 생성 (제목: `docs: FEATURE-XXX 완료 상태 반영`)
- [ ] PR 본문에 완료된 Task 목록 포함
- [ ] PR 승인 및 머지

**커밋 메시지 예시**:

```bash
git commit -m "docs: FEATURE-016 완료 상태를 PRD에 반영

- FEATURE-016을 '완료된 기능' 섹션으로 이동
- 상태를 🔲에서 ✅로 변경
- '관찰성 확보'를 현재 제공 중인 가치로 이동
- 최종 수정일 업데이트

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
```

### 4. 브랜치 정리

- [ ] 로컬 브랜치 삭제 (선택사항)
- [ ] 원격 브랜치 삭제 (선택사항)

**명령어 예시**:

```bash
# 로컬 브랜치 삭제
git branch -d issue-XX

# 원격 브랜치 삭제
git push origin --delete issue-XX
```

## 체크리스트 요약

전체 워크플로우를 한눈에 확인:

```markdown
- [ ] FEATURE-XXX.md 진행 현황 업데이트
- [ ] PRD.md - 완료된 기능 섹션으로 이동
- [ ] PRD.md - 상태 아이콘 변경 (🔲 → ✅)
- [ ] PRD.md - 가치 제안 업데이트
- [ ] PRD.md - 최종 수정일 업데이트
- [ ] PR 생성 및 머지
- [ ] 브랜치 정리
```

## 자동화 팁

### 추천 워크플로우 (docs-sync-guardian + commit-and-push)

기능 완료 시 다음 순서로 자동화:

#### 1단계: docs-sync-guardian 실행

```text
"[기능명] 구현이 완료되었어. docs-sync-guardian를 실행해서
PRD를 포함한 모든 관련 문서를 동기화해줘"
```

**docs-sync-guardian가 하는 일**:
- PRD.md에서 완료된 기능 찾기
- 상태 변경 (🔲 → ✅)
- "향후 개발 예정" → "완료된 기능"으로 이동
- 관련된 README.md, CLAUDE.md 등 검증
- 최종 수정일시 자동 업데이트

#### 2단계: commit-and-push skill 실행

```text
"변경사항을 commit-and-push skill로 커밋하고 푸시해줘"
```

**commit-and-push가 하는 일**:
- 변경사항 자동 분석
- 적절한 커밋 메시지 생성
- Git 커밋 실행
- GitHub 푸시
- Co-Authored-By 자동 추가

### 빠른 명령어 (권장)

마이너 개선사항 완료 시:

```text
"[기능명]을 완료했어. PRD를 업데이트하고 커밋해줘"
```

FEATURE 완료 시:

```text
"FEATURE-XXX가 완료되었어. 문서를 모두 동기화하고 커밋해줘"
```

### Claude에게 습관화 요청

프로젝트 시작 시 한 번만 요청:

```text
"앞으로 내가 기능을 완료했다고 하면:
1. docs-sync-guardian로 문서 동기화
2. commit-and-push로 자동 커밋
이 순서를 자동으로 실행해줘"
```

### 레거시 방법 (수동)

FEATURE 완료 시 Claude에게 다음과 같이 요청하면 자동으로 처리됩니다:

```text
FEATURE-XXX가 완료되었어. FEATURE 완료 워크플로우를 따라서
PRD와 관련 문서를 모두 업데이트해줘.
```

Claude는 이 가이드를 참조하여:

1. FEATURE-XXX.md 상태 확인
2. PRD.md 자동 업데이트
3. PR 생성 및 커밋

## 주의사항

### 🚨 문서 업데이트 누락 방지 (가장 중요!)

**문제 상황**:
- 기능은 구현 완료했으나 PRD.md 업데이트를 잊어버림
- 며칠 후 PRD를 확인하니 상태가 맞지 않음
- 어떤 기능이 완료되었는지 혼란스러움

**해결 방법**:
1. ✅ **구현 즉시 문서 업데이트** - 나중으로 미루지 말 것!
2. ✅ **docs-sync-guardian 활용** - 자동으로 검증
3. ✅ **커밋 전 최종 확인** - PRD.md 변경사항 포함 여부 체크
4. ✅ **Claude에게 습관화 요청** - "완료했어" → 자동 문서 동기화

**체크 방법**:
```bash
# 커밋 전 확인
git status
# PRD.md가 modified 상태인지 확인!

# PRD.md 변경 내용 확인
git diff docs/product/PRD.md
```

### PRD 업데이트 시

- **섹션 순서 유지**: "완료된 기능" 섹션에서 FEATURE 번호 순서 유지
- **상대 경로 사용**: `../feature-execution-plan/` 형식 유지
- **Markdownlint 규칙 준수**: 빈 줄, 테이블 포맷 등
- **최종 수정일시 필수**: 날짜 + 시간 + 간단한 변경 내용

### 가치 제안 업데이트 시

- **일관성 유지**: FEATURE 설명과 가치 제안 내용 일치 확인
- **중복 제거**: 여러 FEATURE가 같은 가치를 제공하는 경우 통합

### 커밋 메시지

- **명확한 제목**: "docs: FEATURE-XXX 완료 상태 반영" 또는 "docs(prd): [기능명] 완료 반영"
- **상세한 본문**: 변경사항을 bullet point로 나열
- **Co-Authored-By 포함**: Claude 협업 명시 (commit-and-push skill 자동 추가)

## 예시: FEATURE-016 완료 워크플로우

실제 FEATURE-016 완료 시 수행한 작업:

### 1. FEATURE-016.md 확인

```markdown
## 진행 현황

| Task | 상태 | 실제 시간 |
|------|------|----------|
| 16.1 | ✅ 완료 | 1h30m |
| 16.2 | ✅ 완료 | 1h45m |
| ... | ✅ 완료 | ... |
```

### 2. PRD.md 업데이트

**변경 전** (향후 개발 예정):

```markdown
| 🔲 FEATURE-016: Langfuse 연동 | **P1** | LLM 사용 추적, 비용 분석 |
```

**변경 후** (완료된 기능):

```markdown
| ✅ FEATURE-016: [Langfuse 연동 (LLM 관찰성)](../feature-execution-plan/FEATURE-016.md) | **P1** | LLM 사용 추적, 비용 분석, 품질 모니터링, 프롬프트 최적화. 운영 인사이트 확보 |
```

### 3. 가치 제안 이동

**변경 전** (향후 제공 예정):

```markdown
### 향후 제공 예정

- **관찰성 확보**: Langfuse 추적 및 분석
```

**변경 후** (현재 제공 중):

```markdown
### 개발 및 운영 효율성

- **관찰성 확보**: Langfuse를 통한 LLM 사용 추적 및 비용 분석
```

### 4. PR 생성

- **브랜치**: `issue-73-prd-update`
- **제목**: `docs: FEATURE-016 완료 상태를 PRD에 반영`
- **본문**: 변경사항 bullet point 나열

---

**최종 수정일시**: 2026-02-08 14:45 (마이너 개선사항 체크리스트, 문서 업데이트 누락 방지 가이드, docs-sync-guardian/commit-and-push 통합 추가)
